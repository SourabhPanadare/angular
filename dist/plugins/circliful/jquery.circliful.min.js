"use strict";!function(e){e.fn.circliful=function(t,r){var o=e.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",multiPercentage:0,percentages:null,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1},t);return this.each(function(){var t,l,n,c=e(this),i=o.percent,a=83,s=100,x=110,d=100,g=o.backgroundBorderWidth;if(o.halfCircle?"left"==o.iconPosition?(s=80,a=100,d=117,x=100):o.halfCircle&&(a=80,x=100):"bottom"==o.iconPosition?(a=124,x=95):"left"==o.iconPosition?(s=80,a=110,d=117):"middle"==o.iconPosition?1==o.multiPercentage?"object"==typeof o.percentages?g=30:(a=110,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',d=228,x=47):(a=110,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',d=175,x=35):"right"==o.iconPosition&&(s=120,a=110,d=80),o.targetPercent>0&&(x=95,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',l+='<text text-anchor="middle" x="'+d+'" y="120" style="font-size: '+o.targetTextSize+'px;" fill="'+o.targetColor+'">'+o.targetPercent+(o.noPercentageSign&&null==o.replacePercentageByText?"":"%")+"</text>",l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.targetColor+'" stroke-width="3" stroke-dasharray="'+3.6*o.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!=o.text&&(o.halfCircle?o.textBelow?l+='<text text-anchor="middle" x="100" y="120" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>"):o.textBelow?l+='<text text-anchor="middle" x="100" y="190" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>")),"none"!=o.icon&&(n='<text text-anchor="middle" x="'+s+'" y="'+a+'" class="icon" style="font-size: '+o.iconSize+'px" fill="'+o.iconColor+'">&#x'+o.icon+"</text>"),o.halfCircle){c.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+g+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+n+'<text class="timer" text-anchor="middle" x="'+d+'" y="'+x+'" style="font-size: '+o.percentageTextSize+"px; "+t+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</text>"))}else c.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+g+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" />'+n+'<text class="timer" text-anchor="middle" x="'+d+'" y="'+x+'" style="font-size: '+o.percentageTextSize+"px; "+t+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</text>"));var f=c.find(".circle"),y=c.find(".timer"),h=0,u=o.animationStep,C=0,p=0,k=0,P=i,m=3.6*i;if(o.halfCircle&&(m=3.6*i/2),null!=o.replacePercentageByText&&(P=o.replacePercentageByText),o.start>0&&o.target>0&&(i=o.start/(o.target/100),k=o.target/100),1==o.animation)var w=window.setInterval(function(){h>=m?(window.clearInterval(w),C=1,"function"==typeof r&&r.call(this)):(h+=u,p+=k),h/3.6>=i&&1==C&&(h=3.6*i),p>o.target&&1==C&&(p=o.target),null==o.replacePercentageByText&&(P=o.halfCircle?parseInt(100*h/360*2):parseInt(100*h/360)),f.attr("stroke-dasharray",h+", 20000"),1==o.showPercent?y.text(P+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")):y.text(p)}.bind(f),30);else f.attr("stroke-dasharray",m+", 20000"),1==o.showPercent?y.text(P+(o.noPercentageSign?"":"%")):y.text(o.target)})}}(jQuery);